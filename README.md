# hi-supabase ğŸ‘‹

> **One command to keep your Supabase free-tier project alive.**

If you are using the Supabase free tier, your project will "pause" after a few days of inactivity. This package sets up a simple, automated "keep-alive" mechanism in your Next.js application to prevent this.

## ğŸš€ Quick Start

Run this single command in your Next.js project root:

```bash
npx hi-supabase
```

That's it! 

## âœ¨ What it does

This command is a **generator**. It scaffolds the following files into your project:

1.  **`app/api/keep-alive/route.ts`**: An API route that queries your database.
2.  **`app/api/keep-alive/keepAliveUtils.ts`**: Utility logic for the query.
3.  **`config/keep-alive-config.ts`**: Configuration for the keep-alive behavior.
4.  **`lib/supabase/server.ts`**: A Supabase client creator (if you don't already have one).
5.  **`vercel.json`**: Automatically configures a Cron Job on Vercel to hit your API route once a day.
6.  **`keep-alive.sql`**: A SQL script to create the necessary table.

It also checks if you have `@supabase/supabase-js` installed and installs it if missing.

## ğŸ› ï¸ Final Setup Steps

After running the command, you need to do two small things:

1.  **Run the SQL**:
    - Go to your [Supabase Dashboard](https://supabase.com/dashboard).
    - Open the **SQL Editor**.
    - Copy the content of the generated `keep-alive.sql` file and run it. This creates the table used for the keep-alive check.

2.  **Deploy**:
    - Deploy your project to Vercel (or your preferred host).
    - The `vercel.json` file will automatically set up the Cron Job.

## ğŸ—‘ï¸ Uninstall

If you ever want to remove the files generated by `hi-supabase`, simply run:

```bash
npx hi-supabase uninstall
```

This will delete the generated API routes and config, but will **safely preserve** your `lib/supabase/server.ts` file.

## ğŸ“„ License

ISC
